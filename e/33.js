webpackJsonp([33,56],{889:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=a(2),r=n(l),o=a(4),u=n(o),i=a(3),c=n(i),d=a(1),s=n(d),f=a(17),p=a(14),m=p.Select.Option,h=p.Modal.confirm,y=p.Input.Search,E=function(e){function t(a){(0,r["default"])(this,t);var n=(0,u["default"])(this,e.call(this,a));return n.onSelectChange=function(e){n.setState({selectedRowKeys:e})},n.state={data:[],pageSize:10,selectedRowKeys:[]},n}return(0,c["default"])(t,e),t.prototype.componentDidMount=function(){this.props.actions.query({currentPage:1,pageSize:this.state.pageSize})},t.prototype.handleSearch=function(e,t){this.props.actions.query({type:e,value:t})},t.prototype.handleDel=function(e){var t=this.props.actions.del;h({title:"\u63d0\u793a",content:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onOk:function(){t(e)},onCancel:function(){}})},t.prototype.handleBatchDel=function(){var e=this.state.selectedRowKeys,t=this.props.actions.batchDel;h({title:"\u63d0\u793a",content:"\u60a8\u786e\u5b9a\u8981\u6279\u91cf\u5220\u9664\u5417\uff1f",onOk:function(){t(e)},onCancel:function(){}})},t.prototype.handlePublish=function(){alert("\u6b63\u5728\u5f00\u53d1\u4e2d...")},t.prototype.render=function(){var e=this,t=[{title:"\u7ad9\u70b9\u540d\u79f0",dataIndex:"name",key:"name",render:function(e,t){return s["default"].createElement("span",null,s["default"].createElement(f.Link,{to:"/cms/channel_article/"+t.id+"/0"},e))}},{title:"\u7ad9\u70b9\u6807\u9898",dataIndex:"title",key:"title"},{title:"\u7ad9\u70b9Logo",dataIndex:"logo",key:"logo"},{title:"\u7ad9\u70b9\u57df\u540d",dataIndex:"domain",key:"domain"},{title:"\u64cd\u4f5c",key:"operation",width:280,render:function(t,a){return s["default"].createElement("span",null,s["default"].createElement("a",{href:"javascript:void(0)",onClick:e.handleDel.bind(e,a.id)},"\u5220\u9664")," \xa0|\xa0",s["default"].createElement(f.Link,{to:"/cms/site/edit/"+a.id},"\u7f16\u8f91\u57fa\u672c\u4fe1\u606f")," \xa0|\xa0",s["default"].createElement(f.Link,{to:"/cms/site/article_props/"+a.id},"\u7f16\u8f91\u6587\u7ae0\u6269\u5c55\u5c5e\u6027")," \xa0|\xa0",s["default"].createElement("a",{href:"javascript:void(0)",onClick:e.handlePublish.bind(e,a.id)},"\u53d1\u5e03"))}}],a={total:this.props.data.total,pageSize:this.state.pageSize,showSizeChanger:!0,showTotal:function(e,t){return t[0]+"-"+t[1]+"of"+e+"items"},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.props.actions.query({currentPage:t,pageSize:a})},onChange:function(t){e.props.actions.query({currentPage:t,pageSize:e.state.pageSize})}},n=this.state.selectedRowKeys,l={selectedRowKeys:n,onChange:this.onSelectChange},r=n.length>0;return s["default"].createElement("div",{className:"list-box"},s["default"].createElement(p.Breadcrumb,null,s["default"].createElement(p.Breadcrumb.Item,null,"\u9996\u9875"),s["default"].createElement(p.Breadcrumb.Item,null,"cms\u7ba1\u7406"),s["default"].createElement(p.Breadcrumb.Item,null,"\u7ad9\u70b9\u7ba1\u7406"),s["default"].createElement(p.Breadcrumb.Item,null,"\u5217\u8868")),s["default"].createElement("div",{className:"toolbar"},s["default"].createElement("span",{className:"btn"},s["default"].createElement(f.Link,{to:"/cms/site/add"},s["default"].createElement(p.Button,{type:"primary"},"\u65b0\u589e")),"\xa0",s["default"].createElement(p.Button,{type:"primary",onClick:this.handleBatchDel.bind(this),disabled:!r},"\u6279\u91cf\u5220\u9664")),s["default"].createElement("span",{className:"search"},s["default"].createElement("div",{className:"ant-search-input-wrapper"},s["default"].createElement(p.Select,{defaultValue:"name",style:{width:100},onChange:function(e){type=e}},s["default"].createElement(m,{value:"name"},"\u7ad9\u70b9\u540d\u79f0"),s["default"].createElement(m,{value:"title"},"\u7ad9\u70b9\u6807\u9898"),s["default"].createElement(m,{value:"logo"},"\u7ad9\u70b9Logo"),s["default"].createElement(m,{value:"domain"},"\u7ad9\u70b9\u57df\u540d"),s["default"].createElement(m,{value:"description"},"\u63cf\u8ff0"),s["default"].createElement(m,{value:"keywords"},"\u5173\u952e\u5b57"),s["default"].createElement(m,{value:"theme"},"\u4e3b\u9898"),s["default"].createElement(m,{value:"copyright"},"\u7248\u6743\u4fe1\u606f"),s["default"].createElement(m,{value:"creator"},"\u521b\u5efa\u8005"),s["default"].createElement(m,{value:"create_time"},"\u521b\u5efa\u65f6\u95f4"),s["default"].createElement(m,{value:"updater"},"\u66f4\u65b0\u8005"),s["default"].createElement(m,{value:"update_time"},"\u66f4\u65b0\u65f6\u95f4"),s["default"].createElement(m,{value:"remarks"},"\u5907\u6ce8\u4fe1\u606f")),"\xa0",s["default"].createElement(y,{placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",style:{width:250},onSearch:function(t){var a=e.type?e.type:"name";e.handleSearch(a,t)}})))),s["default"].createElement(p.Table,{rowKey:"id",rowSelection:l,columns:t,dataSource:this.props.data.result,pagination:a,loading:!1}))},t}(s["default"].Component);t["default"]=E,e.exports=t["default"]},892:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),o=l(r),u=a(4),i=l(u),c=a(3),d=l(c),s=a(1),f=l(s),p=a(24),m=a(13),h=a(91),y=n(h),E=a(889),v=l(E),g=function(e){function t(){return(0,o["default"])(this,t),(0,i["default"])(this,e.apply(this,arguments))}return(0,d["default"])(t,e),t.prototype.render=function(){return f["default"].createElement(v["default"],{data:this.props.sites,actions:this.props.actions})},t}(f["default"].Component),S=function(e){return{sites:e.cms.sites}},b=function(e){return{actions:(0,p.bindActionCreators)(y,e)}};t["default"]=(0,m.connect)(S,b)(g),e.exports=t["default"]}});