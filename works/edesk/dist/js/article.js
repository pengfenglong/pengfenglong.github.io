webpackJsonp([7,42],{618:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArticle=t.addArticle=t.fetchArticles=t.listArticles=t.editArticle=void 0;var r=a(27),i=l(r),u=a(116),o=n(u),c=a(21),s=l(c),d=(t.editArticle=function(e,t){return{type:o.EDIT_ARTICLE,id:e,text:t}},t.listArticles=function(e){return{type:o.LIST_ARTICLE,data:e.data}}),f=t.fetchArticles=function(e){return function(t,a){var n={};e.currentPage?n.currentPage=e.currentPage:n.currentPage=1,e.pageSize?n.pageSize=e.pageSize:n.pageSize=a().cms.articles.pageSize,e.type&&""!=e.type&&e.value&&""!=e.value&&(n.where=[{propertyName:e.type,propertyValue:e.value,matchType:"like",logicalExpression:"and"}]),s["default"].ajax({url:"rest/cms/article/query?filter="+(0,i["default"])(n),success:function(e){t(d(e))}})}};t.addArticle=function(e){return function(t,a){s["default"].ajax({url:"rest/cms/article/create",type:"post",data:(0,i["default"])(e),success:function(e){t(f({}))}})}},t.deleteArticle=function(e){return function(t,a){s["default"].ajax({url:"rest/cms/article/delete/"+e,type:"delete",success:function(e){t(f({}))}})}}},620:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=a(2),r=n(l),i=a(4),u=n(i),o=a(3),c=n(o),s=a(6),d=n(s),f=a(1),p=n(f),m=a(12),h=m.Form.Item,v=m.Form.create()(function(e){var t=e.visible,a=e.onCancel,n=e.onCreate,l=e.form,r=l.getFieldDecorator,i={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14}}};return p["default"].createElement(m.Modal,{visible:t,title:"\u65b0\u589e\u6587\u7ae0",okText:"\u786e\u5b9a",onCancel:a,onOk:n},p["default"].createElement(m.Form,{layout:"vertical"},p["default"].createElement(h,(0,d["default"])({},i,{label:"\u680f\u76ee",hasFeedback:!0}),r("channel_id",{rules:[{required:!0,message:"Please input channel!",whitespace:!0}]})(p["default"].createElement(m.Select,{defaultValue:"1"},p["default"].createElement(Option,{value:"1",key:"1"},"\u4eba\u7269"),p["default"].createElement(Option,{value:"2",key:"2"},"\u5386\u53f2"),p["default"].createElement(Option,{value:"3",key:"3"},"\u5730\u7406"),p["default"].createElement(Option,{value:"4",key:"4"},"\u81ea\u7136"),p["default"].createElement(Option,{value:"5",key:"5"},"\u6587\u5316"),p["default"].createElement(Option,{value:"6",key:"6"},"\u793e\u4f1a"),p["default"].createElement(Option,{value:"7",key:"7"},"\u4f53\u80b2"),p["default"].createElement(Option,{value:"8",key:"8"},"\u79d1\u6280"),p["default"].createElement(Option,{value:"9",key:"9"},"\u5a31\u4e50"),p["default"].createElement(Option,{value:"10",key:"10"},"\u751f\u6d3b")))),p["default"].createElement(h,(0,d["default"])({},i,{label:"\u6807\u9898",hasFeedback:!0}),r("title",{rules:[{required:!0,message:"Please input title!",whitespace:!0}]})(p["default"].createElement(m.Input,null))),p["default"].createElement(h,(0,d["default"])({},i,{label:"\u7b80\u4ecb",hasFeedback:!0}),r("summary",{rules:[{required:!1,message:"Please input summary!",whitespace:!0}]})(p["default"].createElement(m.Input,{type:"textarea",rows:2}))),p["default"].createElement(h,(0,d["default"])({},i,{label:"\u5185\u5bb9",hasFeedback:!0}),r("content",{rules:[{required:!0,message:"Please input content!",whitespace:!0}]})(p["default"].createElement(m.Input,{type:"textarea",rows:6})))))}),y=function(e){function t(){var a,n,l;(0,r["default"])(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return a=n=(0,u["default"])(this,e.call.apply(e,[this].concat(o))),n.state={visible:!1},n.showModal=function(){n.setState({visible:!0})},n.handleCancel=function(){n.form.resetFields(),n.setState({visible:!1})},n.handleCreate=function(){var e=n.form;e.validateFields(function(t,a){t||(e.resetFields(),n.setState({visible:!1}),n.props.actions.addArticle(a))})},n.saveFormRef=function(e){n.form=e},l=a,(0,u["default"])(n,l)}return(0,c["default"])(t,e),t.prototype.render=function(){return p["default"].createElement("span",null,p["default"].createElement(m.Button,{type:"primary",onClick:this.showModal},"\u65b0\u589e"),p["default"].createElement(v,{ref:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))},t}(p["default"].Component);t["default"]=y,e.exports=t["default"]},621:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=a(2),r=n(l),i=a(4),u=n(i),o=a(3),c=n(o),s=a(1),d=n(s),f=a(12),p=a(5),m=(n(p),f.Form.Item,f.Select.Option,f.Input.Group,function(e){function t(a){(0,r["default"])(this,t);var n=(0,u["default"])(this,e.call(this,a));return n.state={data:[],pageSize:10},n}return(0,c["default"])(t,e),t.prototype.componentDidMount=function(){this.props.actions.fetchArticles({currentPage:1,pageSize:this.state.pageSize})},t.prototype.componentWillUnmount=function(){window.selectedArticles=[]},t.prototype.render=function(){var e=this,t=[{title:"\u6807\u9898",dataIndex:"title",key:"title"},{title:"\u7b80\u4ecb",dataIndex:"summary",key:"summary"},{title:"\u4eba\u6c14",dataIndex:"hits",key:"hits"},{title:"\u64cd\u4f5c",key:"operation",width:120,render:function(t,a){return d["default"].createElement("span",null,d["default"].createElement("a",{href:"javascript:void(0)",onClick:function(e){alert("\u7528\u6237id\u4e3a"+e.key)}.bind(e,a)},"\u4fee\u6539"),"\xa0\uff5c\xa0",d["default"].createElement("a",{href:"javascript:void(0)",onClick:function(e){var t=this;f.Modal.confirm({title:"\u8b66\u544a",content:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){t.props.actions.deleteArticle(e.id)}})}.bind(e,a)},"\u5220\u9664"))}}],a={onChange:function(e,t){window.selectedArticles=t},onSelect:function(e,t,a){},onSelectAll:function(e,t,a){console.log(e,t,a)},getCheckboxProps:function(e){return{}}},n={total:this.props.articles.total,pageSize:this.state.pageSize,showSizeChanger:!0,showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e+" items"},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.props.actions.fetchArticles({currentPage:t,pageSize:a})},onChange:function(t){e.props.actions.fetchArticles({currentPage:t,pageSize:e.state.pageSize})}};return d["default"].createElement(f.Table,{rowSelection:a,columns:t,dataSource:this.props.articles.result,pagination:n,loading:!1})},t}(d["default"].Component));t["default"]=m,e.exports=t["default"]},622:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var l=a(2),r=n(l),i=a(4),u=n(i),o=a(3),c=n(o),s=a(1),d=n(s),f=a(12),p=a(5),m=(n(p),f.Form.Item,f.Select.Option),h=(f.Input.Group,f.Input.Search),v=function(e){function t(a){return(0,r["default"])(this,t),(0,u["default"])(this,e.call(this,a))}return(0,c["default"])(t,e),t.prototype.handleSearch=function(e,t){this.props.actions.fetchUsers({type:e,value:t})},t.prototype.render=function(){var e=this,t=(this.props.actions,"title");return d["default"].createElement("div",{className:"ant-search-input-wrapper"},"\u641c\u7d22\u6761\u4ef6\uff1a",d["default"].createElement(f.Select,{defaultValue:"title",onChange:function(e){t=e}},d["default"].createElement(m,{value:"title"},"\u6807\u9898"),d["default"].createElement(m,{value:"summary"},"\u7b80\u4ecb"))," \xa0",d["default"].createElement(h,{placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",style:{width:250},onSearch:function(a){e.handleSearch(t,a)}}))},t}(s.Component);t["default"]=v,e.exports=t["default"]},626:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t["default"]=e,t}function l(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),i=l(r),u=a(4),o=l(u),c=a(3),s=l(c),d=a(1),f=l(d),p=a(18),m=a(11),h=a(618),v=n(h),y=a(620),E=l(y),g=a(621),S=l(g),b=a(622),k=l(b),C=function(e){function t(a){return(0,i["default"])(this,t),(0,o["default"])(this,e.call(this,a))}return(0,s["default"])(t,e),t.prototype.render=function(){return f["default"].createElement("div",{className:"sup-body"},f["default"].createElement("div",{style:{height:40}},f["default"].createElement("span",{style:{"float":"left"}},f["default"].createElement(k["default"],{actions:this.props.actions})),f["default"].createElement("span",{style:{"float":"right"}},f["default"].createElement(E["default"],{actions:this.props.actions}))),f["default"].createElement(S["default"],{articles:this.props.articles,actions:this.props.actions}))},t}(d.Component);C.propTypes={articles:d.PropTypes.array.isRequired};var _=function(e){return{articles:e.cms.articles}},w=function(e){return{actions:(0,p.bindActionCreators)(v,e)}};t["default"]=(0,m.connect)(_,w)(C),e.exports=t["default"]}});