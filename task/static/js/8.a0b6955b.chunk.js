webpackJsonp([8],{479:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(496),a=(t.n(r),t(497)),i=t.n(a),o=t(529),l=(t.n(o),t(530)),s=t.n(l),c=t(113),d=t.n(c),p=t(108),u=t.n(p),h=t(111),f=t.n(h),m=t(109),g=t.n(m),x=t(110),b=t.n(x),y=t(499),v=(t.n(y),t(500)),w=t.n(v),k=t(5),E=t.n(k),C=t(26),L=t(187),z=(t.n(L),t(878)),_=t(193),S=t(207),I=t(194),O=w.a.operation,A=function(e){function n(e){u()(this,n);var t=g()(this,(n.__proto__||d()(n)).call(this,e));return t.state={boardName:null,selectedList:null},t}return b()(n,e),f()(n,[{key:"handleOnLeftClick",value:function(){window.history.back()}},{key:"handleOnRightClick",value:function(){window.dd.ready(function(){window.dd.biz.contact.complexPicker({title:"\u6d4b\u8bd5\u6807\u9898",corpId:"ding2be0fe1f8eec8e5d35c2f4657eb6378f",multiple:!0,limitTips:"\u8d85\u51fa\u4e86",maxUsers:1e3,pickedUsers:[],pickedDepartments:[],disabledUsers:[],disabledDepartments:[],requiredUsers:[],requiredDepartments:[],appId:172310029,permissionType:"GLOBAL",responseUserOnly:!1,startWithDepartmentId:0,onSuccess:function(e){},onFail:function(e){}})})}},{key:"handleListChange",value:function(e){this.setState({selectedList:e}),this.props.itemActions.search({currentPage:1,pageSize:100,channel_id:e.value})}},{key:"handleListSelect",value:function(){var e=this,n=[];this.props.lists.result&&this.props.lists.result.forEach(function(e){n.push({value:e.id,key:e.name})}),window.dd.version?window.dd.biz.util.chosen({source:n,selectedKey:this.state.selectedList.key,onSuccess:function(n){e.handleListChange(n)},onFail:function(e){}}):O(this.props.lists.result.map(function(n){return{text:E.a.createElement("div",null,E.a.createElement("span",null,n.name),e.state.selectedList.value===n.id?E.a.createElement(i.a,{type:"check",style:{float:"right",margin:"10px"}}):null),onPress:function(){e.handleListChange({value:n.id,key:n.name})}}}))}},{key:"componentDidMount",value:function(){var e=this;this.props.listActions.query({currentPage:1,pageSize:100,siteId:this.props.params.boardId,callback:function(n){0===n.length?window.location.hash="/task/board/edit/"+e.props.params.boardId+"?type=list":(e.setState({selectedList:{value:n[0].id,key:n[0].name}}),e.props.itemActions.search({currentPage:1,pageSize:100,channel_id:n[0].id}))}}),window.dd.biz.navigation.setLeft({control:!0,text:"\u8fd4\u56de",onSuccess:function(e){},onFail:function(e){}}),_.get(this.props.params.boardId,function(n){e.setState({boardName:n.data.name}),window.dd.biz.navigation.setTitle({title:n.data.name,onSuccess:function(e){},onFail:function(e){}})}),window.dd.biz.navigation.setRight({show:!0,control:!0,text:"\u7f16\u8f91\u770b\u677f",onSuccess:function(n){window.location.hash="/task/board/edit/"+e.props.params.boardId},onFail:function(e){}})}},{key:"render",value:function(){var e=this;return E.a.createElement("div",null,window.dd.version?null:E.a.createElement(s.a,{mode:"dark",icon:E.a.createElement(i.a,{type:"left"}),onLeftClick:function(){window.history.back()},rightContent:[E.a.createElement("button",{style:{padding:"0 5px","border-radius":"4px",color:"#fff","background-color":"#1890ff","border-color":"#1890ff"},onClick:function(){window.location.hash="/task/board/edit/"+e.props.params.boardId}},"\u770b\u677f\u8bbe\u7f6e")]},this.state.boardName),E.a.createElement("div",{style:{padding:"5px 10px",border:"1px #aaa solid",background:"#ffffff",width:"100%",height:"45px","line-height":"30px","font-size":"14px"}},E.a.createElement("div",{style:{float:"left"},onClick:this.handleListSelect.bind(this)},E.a.createElement(i.a,{type:"down",style:{margin:"3px 5px"}})),E.a.createElement("div",{style:{float:"left"},onClick:this.handleListSelect.bind(this)},this.state.selectedList?this.state.selectedList.key:"","("+this.props.items.result.length+")"),E.a.createElement("div",{style:{float:"right","font-size":"12px"}},E.a.createElement("button",{style:{padding:"0 5px","border-radius":"4px",color:"#fff","background-color":"#1890ff","border-color":"#1890ff"},onClick:function(){window.location.hash="/task/item/add/"+e.props.params.boardId+"/"+e.state.selectedList.value}},"\u65b0\u5efa\u4efb\u52a1"))),E.a.createElement("div",{style:{height:window.dd.version?"calc(100vh - 48px)":"calc(100vh - 93px)","overflow-y":"auto"}},this.props.items.result.map(function(e){return E.a.createElement(z.a,{data:e})})))}}]),n}(k.Component),j=function(e){return{lists:e.cms.channels,items:e.cms.articles}},D=function(e){return{listActions:Object(C.bindActionCreators)(S,e),itemActions:Object(C.bindActionCreators)(I,e)}};n.default=Object(L.connect)(j,D)(A)},878:function(e,n,t){"use strict";var r=t(511),a=(t.n(r),t(512)),i=t.n(a),o=t(488),l=(t.n(o),t(487)),s=t.n(l),c=t(536),d=(t.n(c),t(537)),p=t.n(d),u=t(113),h=t.n(u),f=t(108),m=t.n(f),g=t(111),x=t.n(g),b=t(109),y=t.n(b),v=t(110),w=t.n(v),k=t(5),E=t.n(k),C=t(535),L=t(20),z=t(885),_=(t.n(z),function(e){function n(e){return m()(this,n),y()(this,(n.__proto__||h()(n)).call(this,e))}return w()(n,e),x()(n,[{key:"render",value:function(){var e=this.props.data,n=e.id,t=e.title,r=(e.content,e.workload),a=e.end_time,o=e.owner_user_name,l=e.owner_user_avatar,c=e.tagCount,d=e.fileCount,u=e.commentCount,h=e.checklistCount,f=e.checklistCompletedCount;return E.a.createElement("div",{style:{margin:"5px"},onClick:function(){window.location.hash="/task/item/view/"+n}},E.a.createElement(i.a,null,E.a.createElement(i.a.Body,null,E.a.createElement("div",null,E.a.createElement("span",null,t),E.a.createElement("span",{style:{marginLeft:5}},this.props.data.tags.map(function(e){return E.a.createElement(p.a,{color:e.color},e.name)})))),E.a.createElement(i.a.Footer,{content:E.a.createElement("div",null,E.a.createElement("span",{style:{float:"left",marginRight:5}},E.a.createElement(C.a,{name:o,img:l})),E.a.createElement("span",null,Object(L.b)(new Date(a)))),extra:E.a.createElement("div",null,E.a.createElement("div",{style:{float:"right",margin:"0 3px"}},E.a.createElement(s.a,{type:"tags"}),c),E.a.createElement("div",{style:{float:"right",margin:"0 3px"}},E.a.createElement(s.a,{type:"link"}),d),E.a.createElement("div",{style:{float:"right",margin:"0 3px"}},E.a.createElement(s.a,{type:"message"}),u),E.a.createElement("div",{style:{float:"right",margin:"0 3px"}},E.a.createElement(s.a,{type:"bars"}),f,"/",h),E.a.createElement("div",{style:{float:"right",margin:"0 3px"}},E.a.createElement(s.a,{type:"calculator"}),r))})))}}]),n}(k.Component));n.a=_},885:function(e,n,t){var r=t(886);"string"===typeof r&&(r=[[e.i,r,""]]);var a={};a.transform=void 0;t(189)(r,a);r.locals&&(e.exports=r.locals)},886:function(e,n,t){n=e.exports=t(188)(void 0),n.push([e.i,"body {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\n.card-wrap{\r\n    margin: 5px 0;\r\n}\r\n\r\n.card-wrap-title {\r\n    margin: 15px 0 15px 15px;\r\n    font-size: 18px;\r\n    color: #333;\r\n}\r\n\r\n.t-card.card-example {\r\n    height: 141px;\r\n    background-color: #fff;\r\n    font-size: 12px;\r\n    color: #999;\r\n    text-align: center;\r\n    line-height: 141px;\r\n}\r\n\r\n.t-card-header {\r\n    display: flex;\r\n    padding: 12px 16px 0;\r\n}\r\n\r\n.t-card-body {\r\n    padding: 16px 16px 13px;\r\n}\r\n\r\n.t-card-footer {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 12px 16px;\r\n    font-size: 12px;\r\n}\r\n\r\n.card-header-text {\r\n    margin-left: 12px;\r\n}\r\n\r\n.card-avatar {\r\n    diplay: block;\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.card-username {\r\n    display: block;\r\n    font-size: 14px;\r\n    color: rgba(0,0,0,0.6);\r\n    line-height: 22px;\r\n}\r\n\r\n.card-date {\r\n    font-size: 12px;\r\n    color: rgba(31,56,88,0.4);\r\n    line-height: 18px;\r\n}\r\n\r\n.card-title {\r\n    font-size: 16px;\r\n    color: rgba(0,0,0,0.8);\r\n    line-height: 24px;\r\n}\r\n\r\n.card-desc {\r\n    margin-top: 5px;\r\n    font-size: 12px;\r\n    color: rgba(0,0,0,0.6);\r\n    line-height: 18px;\r\n}\r\n\r\n.card-footer-meta {\r\n    display: flex;\r\n    color: rgba(31,56,88,0.6);\r\n    line-height: 18px;\r\n}\r\n\r\n.card-footer-meta-item {\r\n    display: flex;\r\n    margin-right: 17px;\r\n}\r\n\r\n.card-icon {\r\n    line-height: 1;\r\n    margin-right: 9px;\r\n}\r\n\r\n.card-icon svg {\r\n    fill: rgba(31,56,88,0.6);\r\n    width: 16px;\r\n    height: 18px;\r\n}\r\n\r\n.card-footer-extra {\r\n    color: rgba(31,56,88,0.4);\r\n    line-height: 18px;\r\n}",""])}});