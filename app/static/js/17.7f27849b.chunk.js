webpackJsonp([17],{477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),i=n.n(a),o=n(113),l=n.n(o),s=n(108),c=n.n(s),r=n(111),u=n.n(r),d=n(109),p=n.n(d),f=n(110),h=n.n(f),m=n(5),v=n.n(m),b=n(187),w=(n.n(b),n(503)),k=n(513),y=n(196),F=function(e){function t(){return c()(this,t),p()(this,(t.__proto__||l()(t)).apply(this,arguments))}return h()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;this.autoFocusInst.focus(),window.dd.biz.navigation.setLeft({control:!0,text:"\u8fd4\u56de",onSuccess:function(e){},onFail:function(e){}}),window.dd.biz.navigation.setTitle({title:"\u65b0\u5efa\u770b\u677f",onSuccess:function(e){},onFail:function(e){}}),window.dd.biz.navigation.setRight({show:!0,control:!0,text:"\u4fdd\u5b58",onSuccess:function(t){e.handleSubmit()},onFail:function(e){}})}},{key:"handleSubmit",value:function(e){var t=this,n=this.props.form;n.validateFields(function(e,a){e||(t.props.editId?t.props.dispatch(y.update(t.props.editId,a)):(t.props.dispatch(y.save(a)),n.resetFields()),window.history.back())})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldProps,n=[{value:"blank",label:"\u7a7a\u767d\u770b\u677f"},{value:"task",label:"\u901a\u7528\u4efb\u52a1\u7ba1\u7406\u770b\u677f"},{value:"defect",label:"\u7f3a\u9677\u770b\u677f"}];return v.a.createElement("div",null,v.a.createElement(w.h,null,v.a.createElement(w.g,i()({},t("name"),{clear:!0,placeholder:"\u8bf7\u8f93\u5165",ref:function(t){return e.autoFocusInst=t}}),"\u770b\u677f\u540d\u79f0"),v.a.createElement(w.l,i()({data:n,cols:1,className:"forss"},t("template",{initialValue:["blank"]})),v.a.createElement(w.h.Item,{arrow:"horizontal"},"\u6a21\u677f")),v.a.createElement(w.u,null),window.dd.version?null:v.a.createElement(w.a,{type:"primary",onClick:this.handleSubmit.bind(this)},"\u4fdd\u5b58")))}}]),t}(v.a.Component);F=Object(b.connect)()(Object(k.a)()(F)),t.default=F}});