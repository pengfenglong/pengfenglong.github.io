webpackJsonp([7],{477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(490),o=(n.n(a),n(491)),l=n.n(o),r=n(500),u=(n.n(r),n(501)),i=n.n(u),s=n(496),c=(n.n(s),n(497)),d=n.n(c),f=n(30),p=n.n(f),h=n(812),m=(n.n(h),n(814)),v=n.n(m),b=n(6),g=n.n(b),y=n(113),C=n.n(y),x=n(108),k=n.n(x),E=n(111),w=n.n(E),F=n(109),O=n.n(F),S=n(110),_=n.n(S),T=n(5),N=n.n(T),H=n(187),j=(n.n(H),n(519)),P=(n(188),n(20)),B=function(e){function t(){var e,n,a,o;k()(this,t);for(var l=arguments.length,r=Array(l),u=0;u<l;u++)r[u]=arguments[u];return n=a=O()(this,(e=t.__proto__||C()(t)).call.apply(e,[this].concat(r))),a.state={values:{}},o=n,O()(a,o)}return _()(t,e),w()(t,[{key:"componentDidMount",value:function(){var e=this;window.dd.biz.navigation.setLeft({control:!0,text:"\u8fd4\u56de",onSuccess:function(e){},onFail:function(e){}}),window.dd.biz.navigation.setTitle({title:"\u5bfc\u5165\u5de5\u5e8f",onSuccess:function(e){},onFail:function(e){}}),window.dd.biz.navigation.setRight({show:!0,control:!0,text:"\u4fdd\u5b58",onSuccess:function(t){e.handleSubmit()},onFail:function(e){}})}},{key:"handleBack",value:function(){window.history.back()}},{key:"handleSubmit",value:function(e){var t=this,n=this.props.form;n.validateFields(function(e,a){e||(a.style_id=t.props.params.styleId,Object(P.d)({url:"rest/erp/process/import",type:"post",data:g()(a),success:function(e){window.history.back()}}),n.resetFields())})}},{key:"render",value:function(){var e=this.props.form.getFieldProps;return N.a.createElement("div",{style:{padding:5}},N.a.createElement(l.a,null,N.a.createElement(v.a,p()({style:{board:"1px #ccc solid"},rows:10,moneyKeyboardAlign:"right",placeholder:"\u4f8b\u5982:\n\u5de5\u5e8f1 10\n\u5de5\u5e8f2 20","data-seed":"logId",autoHeight:!0},e("content"))),N.a.createElement(d.a,null),window.dd.version?null:N.a.createElement("div",{style:{margin:"0 10px"}},N.a.createElement(i.a,{type:"primary",onClick:this.handleSubmit.bind(this)},"\u4fdd\u5b58"))))}}]),t}(N.a.Component);B=Object(H.connect)()(Object(j.a)()(B)),t.default=B},812:function(e,t,n){"use strict";n(495),n(490),n(813)},813:function(e,t,n){e.exports=n.p+"static/media/index.74b7e669.less"},814:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){}function l(e){return"undefined"===typeof e||null===e?"":e}function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(O,"_").length}Object.defineProperty(t,"__esModule",{value:!0});var u=n(487),i=a(u),s=n(489),c=a(s),d=n(108),f=a(d),p=n(111),h=a(p),m=n(109),v=a(m),b=n(110),g=a(b),y=n(488),C=a(y),x=n(5),k=a(x),E=n(507),w=a(E),F=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(n[a[o]]=e[a[o]]);return n},O=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\n/g,S=function(e){function t(e){(0,f.default)(this,t);var n=(0,v.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.focus=function(){n.textareaRef.focus()},n.reAlignHeight=function(){var e=n.textareaRef;e.style.height="",e.style.height=e.scrollHeight+"px"},n.onChange=function(e){var t=e.target.value;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:t});var a=n.props.onChange;a&&a(t),n.componentDidUpdate()},n.onBlur=function(e){n.debounceTimeout=setTimeout(function(){document.activeElement!==n.textareaRef&&n.setState({focus:!1})},100),n.setState({focus:!1});var t=e.currentTarget.value;n.props.onBlur&&n.props.onBlur(t)},n.onFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0});var t=e.currentTarget.value;n.props.onFocus&&n.props.onFocus(t)},n.onErrorClick=function(){n.props.onErrorClick&&n.props.onErrorClick()},n.clearInput=function(){n.setState({value:""}),n.props.onChange&&n.props.onChange("")},n.state={focus:!1,value:e.value||e.defaultValue||""},n}return(0,g.default)(t,e),(0,h.default)(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:l(e.value)})}},{key:"componentDidMount",value:function(){this.props.autoHeight&&this.reAlignHeight()}},{key:"componentDidUpdate",value:function(){this.props.autoHeight&&this.state.focus&&this.reAlignHeight()}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,n=this,a=this.props,o=a.prefixCls,l=a.prefixListCls,u=a.editable,s=a.style,d=a.clear,f=(a.children,a.error),p=a.className,h=a.count,m=a.labelNumber,v=a.title,b=(a.onErrorClick,a.autoHeight),g=(a.defaultValue,F(a,["prefixCls","prefixListCls","editable","style","clear","children","error","className","count","labelNumber","title","onErrorClick","autoHeight","defaultValue"])),y=g.disabled,x=this.state,E=x.value,O=x.focus,S=h>0&&this.props.rows>1,_=(0,C.default)(p,l+"-item",o+"-item",(e={},(0,c.default)(e,o+"-disabled",y),(0,c.default)(e,o+"-item-single-line",1===this.props.rows&&!b),(0,c.default)(e,o+"-error",f),(0,c.default)(e,o+"-focus",O),(0,c.default)(e,o+"-has-count",S),e)),T=(0,C.default)(o+"-label",(t={},(0,c.default)(t,o+"-label-2",2===m),(0,c.default)(t,o+"-label-3",3===m),(0,c.default)(t,o+"-label-4",4===m),(0,c.default)(t,o+"-label-5",5===m),(0,c.default)(t,o+"-label-6",6===m),(0,c.default)(t,o+"-label-7",7===m),t)),N=r(E),H={};return h>0&&(H.maxLength=h-N+(E?E.length:0)),k.default.createElement("div",{className:_},v&&k.default.createElement("div",{className:T},v),k.default.createElement("div",{className:o+"-control"},k.default.createElement("textarea",(0,i.default)({ref:function(e){return n.textareaRef=e}},H,g,{value:E,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,readOnly:!u,style:s}))),d&&u&&E&&N>0&&k.default.createElement(w.default,{activeClassName:o+"-clear-active"},k.default.createElement("div",{className:o+"-clear",onClick:this.clearInput,onTouchStart:this.clearInput})),f&&k.default.createElement("div",{className:o+"-error-extra",onClick:this.onErrorClick}),S&&k.default.createElement("span",{className:o+"-count"},k.default.createElement("span",null,E?N:0),"/",h))}}]),t}(k.default.Component);t.default=S,S.defaultProps={prefixCls:"am-textarea",prefixListCls:"am-list",autoHeight:!1,editable:!0,disabled:!1,placeholder:"",clear:!1,rows:1,onChange:o,onBlur:o,onFocus:o,onErrorClick:o,error:!1,labelNumber:5},e.exports=t.default}});