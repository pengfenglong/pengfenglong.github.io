webpackJsonp([12],{481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(500),r=(n.n(a),n(501)),i=n.n(r),s=n(496),l=(n.n(s),n(497)),o=n.n(l),c=n(490),u=(n.n(c),n(491)),d=n.n(u),p=n(6),m=n.n(p),f=n(113),h=n.n(f),w=n(108),E=n.n(w),b=n(111),y=n.n(b),g=n(109),k=n.n(g),v=n(110),_=n.n(v),x=n(555),j=(n.n(x),n(556)),A=n.n(j),C=n(5),F=n.n(C),I=n(187),O=(n.n(I),n(519)),S=n(20),z=d.a.Item,D=(A.a.CheckboxItem,function(e){function t(){var e,n,a,r;E()(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=a=k()(this,(e=t.__proto__||h()(t)).call.apply(e,[this].concat(s))),a.state={details:[],files:[]},r=n,k()(a,r)}return _()(t,e),y()(t,[{key:"componentDidMount",value:function(){var e=this;Object(S.d)({url:"rest/erp/userWork/userWordDetail?filter="+m()({user_id:this.props.params.userId,work_date:this.props.params.workDate}),type:"get",success:function(t){e.setState({details:t.data.info,files:t.data.files})}}),window.dd.biz.navigation.setLeft({control:!0,text:"\u8fd4\u56de",onSuccess:function(e){},onFail:function(e){}}),window.dd.biz.navigation.setTitle({title:"\u5ba1\u6838\u8ba1\u4ef6",onSuccess:function(e){},onFail:function(e){}}),window.dd.biz.navigation.setRight({show:!0,control:!0,text:"...",onSuccess:function(e){},onFail:function(e){}})}},{key:"handleAudit",value:function(e){Object(S.d)({url:"rest/erp/userWork/audit",type:"post",data:m()({user_id:this.props.params.userId,work_date:this.props.params.workDate,status:e}),success:function(e){window.history.back()}})}},{key:"render",value:function(){var e=this,t=(this.props.form.getFieldProps,this.state.files.map(function(e){return e.path}));return F.a.createElement("div",null,F.a.createElement(d.a,null,F.a.createElement(z,{wrap:!0},F.a.createElement("span",{style:{"font-weight":"bolder"}},"\u3010\u5458\u5de5\u3011"),0===this.state.details.length?null:this.state.details[0].user_name),F.a.createElement(z,{wrap:!0},F.a.createElement("span",{style:{"font-weight":"bolder"}},"\u3010\u65e5\u671f\u3011"),0===this.state.details.length?null:this.state.details[0].work_date)),F.a.createElement(d.a,{renderHeader:function(){return"\u5de5\u5e8f\u8ba1\u4ef6"}},F.a.createElement(z,{extra:F.a.createElement("b",null,F.a.createElement("span",null,"\u5355\u4ef7"),F.a.createElement("span",{style:{marginLeft:20}},"\u6570\u91cf")),style:{background:"#fff9f9"}},F.a.createElement("b",null,"\u5de5\u5e8f\u540d")),this.state.details.map(function(e){return F.a.createElement(z,{extra:F.a.createElement("b",null,F.a.createElement("span",null,"\xa5",e.process_price),F.a.createElement("span",{style:{marginLeft:20}},e.quantity))},e.process_name)})),F.a.createElement(d.a,{renderHeader:function(){return"\u7167\u7247"}},this.state.files.map(function(e){return F.a.createElement("img",{width:80,style:{margin:5},src:e.path,onClick:function(){window.dd.biz.util.previewImage({urls:t,current:e.path,onSuccess:function(e){},onFail:function(e){}})}})})),F.a.createElement("div",{style:{margin:"0 10px"}},F.a.createElement(o.a,null),F.a.createElement(i.a,{type:"primary",onClick:function(){"department"==e.props.params.scope?e.handleAudit(1):e.handleAudit(2)}},"\u5ba1\u6838\u901a\u8fc7"),F.a.createElement(o.a,null),F.a.createElement(i.a,{onClick:this.handleAudit.bind(this,-1)},"\u5ba1\u6838\u4e0d\u901a\u8fc7")))}}]),t}(F.a.Component));D=Object(I.connect)()(Object(O.a)()(D)),t.default=D}});