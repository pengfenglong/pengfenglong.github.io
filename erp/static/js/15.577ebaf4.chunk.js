webpackJsonp([15],{484:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(505),s=(a.n(n),a(506)),l=a.n(s),i=a(490),r=(a.n(i),a(491)),o=a.n(r),c=a(500),d=(a.n(c),a(501)),u=a.n(d),m=a(496),h=(a.n(m),a(497)),p=a.n(h),f=a(527),E=(a.n(f),a(528)),v=a.n(E),y=a(502),g=(a.n(y),a(494)),k=a.n(g),x=a(517),w=(a.n(x),a(518)),I=a.n(w),b=a(6),S=a.n(b),C=a(113),W=a.n(C),_=a(108),D=a.n(_),Q=a(111),j=a.n(Q),O=a(109),U=a.n(O),z=a(110),F=a.n(z),P=a(553),L=(a.n(P),a(554)),M=a.n(L),R=a(5),q=a.n(R),H=a(187),J=(a.n(H),a(20)),T=M.a.RadioItem,A=o.a.Item,B=(l.a.prompt,function(t){function e(t){D()(this,e);var a=U()(this,(e.__proto__||W()(e)).call(this,t));return a.state={details:{},departments:[],modal:!1,selectedIndex:0},a}return F()(e,t),j()(e,[{key:"componentDidMount",value:function(){var t=this;this.handleQuery(0),Object(J.d)({url:"rest/dingtalk/department/list?corpId="+J.f.get("corpId")+"&parentDeptId=1",type:"get",success:function(e){t.setState({departments:e.data})}}),window.dd.biz.navigation.setLeft({control:!0,text:"\u8fd4\u56de",onSuccess:function(t){},onFail:function(t){}}),window.dd.biz.navigation.setTitle({title:"\u5168\u5382\u8ba1\u4ef6\u7edf\u8ba1",onSuccess:function(t){},onFail:function(t){}}),window.dd.biz.navigation.setRight({show:!0,control:!0,text:"...",onSuccess:function(t){},onFail:function(t){}})}},{key:"handleQuery",value:function(t){var e=this,a=null;0===t?a="today":1===t?a="thisweek":2===t?a="thismonth":3===t?a="thisyear":4===t&&(a="total"),Object(J.d)({url:"rest/erp/userWork/queryCorpWork?filter="+S()({corpId:J.f.get("corpId"),cycle:a}),type:"get",success:function(a){e.setState({details:a.data,selectedIndex:t})}})}},{key:"selectDepartment",value:function(){this.setState({modal:!0})}},{key:"render",value:function(){var t=this;return q.a.createElement("div",null,"mobile"!==J.f.get("view")?q.a.createElement(I.a,{mode:"dark",icon:q.a.createElement(k.a,{type:"left"}),onLeftClick:function(){window.history.back()},rightContent:[]},"\u5168\u5382\u8ba1\u4ef6\u7edf\u8ba1"):null,q.a.createElement(o.a,null,q.a.createElement(o.a.Item,{extra:q.a.createElement("span",{onClick:this.selectDepartment.bind(this)}," \u8bf7\u9009\u62e9",q.a.createElement(k.a,{type:"right"}))},"\u6309\u7167\u5c0f\u7ec4\u7edf\u8ba1")),q.a.createElement("div",{style:{margin:"0 5px"}},q.a.createElement(v.a,{values:["\u5f53\u65e5","\u5f53\u5468","\u5f53\u6708","\u5f53\u5e74","\u5168\u90e8"],selectedIndex:this.state.selectedIndex,onChange:function(e){var a=e.nativeEvent.selectedSegmentIndex;t.handleQuery(a)}})),q.a.createElement("div",null,q.a.createElement(o.a,null,q.a.createElement(A,{extra:this.state.details.totalUser?this.state.details.totalUser:0},"\u603b\u4eba\u6570"),q.a.createElement(A,{extra:this.state.details.totalStyle?this.state.details.totalStyle:0},"\u603b\u6b3e\u6570"),q.a.createElement(A,{extra:this.state.details.totalProcess?this.state.details.totalProcess:0},"\u603b\u5de5\u5e8f\u6570"),q.a.createElement(A,{extra:this.state.details.totalQuantity?this.state.details.totalQuantity:0},"\u603b\u8ba1\u4ef6\u6570"),q.a.createElement(A,{extra:q.a.createElement("span",null,"\xa5",this.state.details.totalWages?this.state.details.totalWages:0)},"\u603b\u8ba1\u4ef6\u5de5\u8d44"),q.a.createElement(A,{extra:q.a.createElement("span",null,"\xa5",this.state.details.totalWages&&this.state.details.totalUser?this.state.details.totalWages/this.state.details.totalUser:0)},"\u4eba\u5747\u8ba1\u4ef6\u5de5\u8d44"))),q.a.createElement("div",{style:{margin:"0 10px"}},q.a.createElement(p.a,null),q.a.createElement(u.a,{onClick:function(){window.location.hash="/erp/statis-corp/export"}},"\u5bfc\u51fa\u660e\u7ec6\u5230\u90ae\u7bb1")),q.a.createElement(l.a,{visible:this.state.modal,transparent:!0,maskClosable:!0},q.a.createElement("div",null,q.a.createElement(o.a,{renderHeader:function(){return"\u9009\u62e9\u5c0f\u7ec4"}},this.state.departments.map(function(e){return q.a.createElement(T,{key:e.id,checked:e.id==t.state.selectedDepartmentId,onChange:function(){t.setState({modal:!1}),window.location.hash="/erp/statis/"+e.id}},e.name)})))))}}]),e}(q.a.Component));B=Object(H.connect)()(B),e.default=B}});