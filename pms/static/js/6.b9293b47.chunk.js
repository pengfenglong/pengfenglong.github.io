webpackJsonp([6],{472:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(570),i=(n.n(a),n(571)),o=n.n(i),l=n(484),r=(n.n(l),n(480)),c=n.n(r),s=n(114),u=n.n(s),d=n(108),p=n.n(d),m=n(111),h=n.n(m),f=n(109),v=n.n(f),y=n(110),E=n.n(y),b=n(487),w=(n.n(b),n(488)),k=n.n(w),g=n(535),O=(n.n(g),n(536)),j=n.n(O),_=n(495),A=(n.n(_),n(496)),U=n.n(A),C=n(5),Q=n.n(C),S=(n(189),n(505)),x=n(20),L=(U.a.Option,j.a.confirm,k.a.Search,function(e){function t(e){p()(this,t);var n=v()(this,(t.__proto__||u()(t)).call(this,e));return n.state={data:[]},n}return E()(t,e),h()(t,[{key:"handleQueryAll",value:function(){var e=this;Object(x.c)({url:"rest/pms/product/list?filter={}",success:function(t){e.setState({data:t.data})}})}},{key:"componentDidMount",value:function(){this.handleQueryAll()}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t){var n=Object(x.d)().hostUrl+t.icon;return(new Image).src=n,{id:t.id,icon:Q.a.createElement("div",{onClick:function(){window.location.hash="/pms/region/"+t.id}},Q.a.createElement("img",{src:Object(x.d)().hostUrl+t.icon,width:"48%"})),text:Q.a.createElement("div",{onClick:function(){Object(x.c)({url:"rest/pms/product/delete/"+t.id,type:"delete",success:function(t){e.handleQueryAll()}})},style:{position:"absolute",right:10,top:10}},Q.a.createElement(c.a,{type:"delete"}))}});return t.push({id:0,text:Q.a.createElement(o.a,{action:Object(x.d)().hostUrl+"rest/pms/product/uploadToLocal",name:"file",headers:{Authorization:"Bearer "+window.sessionStorage.getItem("edesk-token")},listType:"picture-card",multiple:!1,showUploadList:!1,onPreview:function(){},beforeUpload:function(e,t){return!0},onChange:function(t){"done"===t.file.status&&e.handleQueryAll()}},Q.a.createElement("div",null,Q.a.createElement(c.a,{type:"plus-circle",style:{fontSize:30}}),Q.a.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20")))}),Q.a.createElement("div",null,Q.a.createElement(S.a,{hasLine:!0,data:t,columnNum:6}))}}]),t}(Q.a.Component));t.default=L}});