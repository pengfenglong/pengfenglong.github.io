webpackJsonp([6],{518:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(554),r=(n.n(a),n(555)),i=n.n(r),o=n(524),l=(n.n(o),n(122)),c=n.n(l),s=n(79),u=n.n(s),d=n(16),p=n.n(d),m=n(19),h=n.n(m),f=n(17),y=n.n(f),v=n(18),w=n.n(v),E=n(527),b=(n.n(E),n(528)),g=n.n(b),k=n(211),O=(n.n(k),n(212)),j=n.n(O),_=n(534),A=(n.n(_),n(535)),C=n.n(A),U=n(1),x=n.n(U),Q=(n(203),n(540)),S=n(24),L=(C.a.Option,j.a.confirm,g.a.Search,function(e){function t(e){p()(this,t);var n=y()(this,(t.__proto__||u()(t)).call(this,e));return n.state={data:[]},n}return w()(t,e),h()(t,[{key:"handleQueryAll",value:function(){var e=this;Object(S.c)({url:"rest/pms/product/list?filter={}",success:function(t){e.setState({data:t.data})}})}},{key:"componentDidMount",value:function(){this.handleQueryAll()}},{key:"render",value:function(){var e=this,t=this.state.data.map(function(t){var n=Object(S.d)().hostUrl+t.icon;return(new Image).src=n,{id:t.id,icon:x.a.createElement("div",{onClick:function(){window.location.hash="/pms/region/"+t.id}},x.a.createElement("img",{src:Object(S.d)().hostUrl+t.icon,width:"48%",style:{cursor:"pointer"}})),text:x.a.createElement("div",{onClick:function(){Object(S.c)({url:"rest/pms/product/delete/"+t.id,type:"delete",success:function(t){e.handleQueryAll()}})},style:{position:"absolute",right:10,top:10,cursor:"pointer"}},x.a.createElement(c.a,{type:"delete"}))}});return t.push({id:0,text:x.a.createElement(i.a,{action:Object(S.d)().hostUrl+"rest/pms/product/uploadToLocal",name:"file",headers:{Authorization:"Bearer "+window.sessionStorage.getItem("edesk-token")},withCredentials:!0,listType:"picture-card",multiple:!1,showUploadList:!1,onPreview:function(){},beforeUpload:function(e,t){return-1!=e.type.indexOf("image/")||(alert("\u53ea\u80fd\u9009\u62e9\u56fe\u7247\u7c7b\u578b!"),!1)},onChange:function(t){"done"===t.file.status&&e.handleQueryAll()}},x.a.createElement("div",null,x.a.createElement(c.a,{type:"plus-circle",style:{fontSize:30,cursor:"pointer"}}),x.a.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20\u4ea7\u54c1\u56fe\u7247")))}),x.a.createElement("div",null,x.a.createElement(Q.a,{hasLine:!0,data:t,columnNum:6}))}}]),t}(x.a.Component));t.default=L}});