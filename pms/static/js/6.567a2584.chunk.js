webpackJsonp([6],{522:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(547),i=(a.n(n),a(548)),s=a.n(i),o=a(543),c=(a.n(o),a(542)),d=a.n(c),r=a(78),l=a.n(r),h=a(16),m=a.n(h),p=a(19),u=a.n(p),f=a(17),w=a.n(f),b=a(18),j=a.n(b),g=a(1),v=a.n(g),y=a(6),E=s.a.Header,O=s.a.Content,k=s.a.Footer,_=function(e){function t(e){m()(this,t);var a=w()(this,(t.__proto__||l()(t)).call(this,e));return a.state={paths:[{id:"0",name:"\u4ea7\u54c1"}]},a}return j()(t,e),u()(t,[{key:"buildPath",value:function(){var e=this;if(-1!==window.location.hash.indexOf("/pms/product"))this.setState({paths:[{id:"0",name:"\u4ea7\u54c1"}]});else if(-1!==window.location.hash.indexOf("/pms/region/")){var t=window.location.hash.replace("#/pms/region/","");Object(y.d)({url:"rest/pms/product/find/"+t,success:function(t){e.setState({paths:[{id:"0",name:"\u4ea7\u54c1",object:t.data},{id:"1",name:"\u533a\u57df"}]})}})}else if(-1!==window.location.hash.indexOf("/pms/project/")){var a=window.location.hash.replace("#/pms/project/","");Object(y.d)({url:"rest/pms/region/find/"+a,success:function(t){var a=t.data;Object(y.d)({url:"rest/pms/product/find/"+a.product_id,success:function(t){var n=t.data;e.setState({paths:[{id:"0",name:"\u4ea7\u54c1",object:n},{id:"1",name:"\u533a\u57df",object:a},{id:"2",name:"\u9879\u76ee"}]})}})}})}else if(-1!==window.location.hash.indexOf("/pms/equipment/")){var n=window.location.hash.replace("#/pms/equipment/","");Object(y.d)({url:"rest/pms/project/find/"+n,success:function(t){var a=t.data;Object(y.d)({url:"rest/pms/region/find/"+a.region_id,success:function(t){var n=t.data;Object(y.d)({url:"rest/pms/product/find/"+n.product_id,success:function(t){var i=t.data;e.setState({paths:[{id:"0",name:"\u4ea7\u54c1",object:i},{id:"1",name:"\u533a\u57df",object:n},{id:"2",name:"\u9879\u76ee",object:a},{id:"3",name:"\u8bbe\u5907"}]})}})}})}})}else if(-1!==window.location.hash.indexOf("/pms/equipment-info/")){var i=window.location.hash.replace("#/pms/equipment-info/","");Object(y.d)({url:"rest/pms/equipment/find/"+i,success:function(t){var a=t.data;Object(y.d)({url:"rest/pms/project/find/"+a.project_id,success:function(t){var n=t.data;Object(y.d)({url:"rest/pms/region/find/"+n.region_id,success:function(t){var i=t.data;Object(y.d)({url:"rest/pms/product/find/"+i.product_id,success:function(t){var s=t.data;e.setState({paths:[{id:"0",name:"\u4ea7\u54c1",object:s},{id:"1",name:"\u533a\u57df",object:i},{id:"2",name:"\u9879\u76ee",object:n},{id:"3",name:"\u8bbe\u5907",object:a},{id:"4",name:"\u8bbe\u5907\u8d44\u6599"}]})}})}})}})}})}}},{key:"componentDidMount",value:function(){var e=this;this.buildPath(),window.onhashchange=function(){e.buildPath()}}},{key:"render",value:function(){var e=this;return v.a.createElement(s.a,{className:"layout"},v.a.createElement(E,{style:{padding:"0 20px"}},v.a.createElement("div",{style:{float:"left",color:"#dddddd",fontSize:20,marginRight:30}},v.a.createElement("img",{src:a(596),width:50})," \xa0",v.a.createElement("span",null,"\u9879\u76ee\u7ba1\u7406\u7cfb\u7edf")),v.a.createElement("div",{style:{float:"left"}},v.a.createElement(d.a,{theme:"dark",mode:"horizontal",selectedKeys:[this.state.paths[this.state.paths.length-1].id],style:{lineHeight:"60px"},onClick:function(t){"0"===t.key?window.location.hash="/pms/product":"1"===t.key?window.location.hash="/pms/region/"+e.state.paths[0].object.id:"2"===t.key?window.location.hash="/pms/project/"+e.state.paths[1].object.id:"3"===t.key?window.location.hash="/pms/equipment/"+e.state.paths[2].object.id:"-1"===t.key&&(window.location.hash="/sys")}},this.state.paths.map(function(e){return v.a.createElement(d.a.Item,{key:e.id},v.a.createElement("div",{style:{height:65}},v.a.createElement("div",{style:{height:20,fontSize:15}},v.a.createElement("b",null,e.name)),v.a.createElement("div",{style:{height:25}},e.object?"\u4ea7\u54c1"===e.name?v.a.createElement("img",{style:{marginTop:15,height:15},src:Object(y.e)().hostUrl+e.object.icon}):e.object.name:null)))}))),v.a.createElement("div",{style:{float:"right",color:"#ffffff"}},v.a.createElement("div",{style:{height:20}},v.a.createElement("a",{href:window.location.pathname+"?app=pms/#/sys"},"\u7cfb\u7edf\u7ba1\u7406")," \xa0\xa0\xa0 \u767b\u5f55\u7528\u6237\uff1a\u3010",window.loginUser?window.loginUser.name:"","\xa0\xa0\xa0",v.a.createElement("a",{href:"#/auth/login/%23%2Fpms"},"\u9000\u51fa"),"\u3011"))),v.a.createElement(O,{style:{"overflow-y":"auto"}},v.a.createElement("div",{style:{background:"#ffffff",padding:10,minHeight:"calc(100vh - 125px)"}},this.props.children)),v.a.createElement(k,{style:{textAlign:"center",background:"#ffffff"}},"Copyright\xa92018 \u53a6\u95e8\u529b\u548c\u884c\u4fe1\u606f\u79d1\u6280\u6709\u9650\u516c\u53f8 All Right Reserved."))}}]),t}(v.a.Component);t.default=_}});